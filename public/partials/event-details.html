<div class="row">
    <div class="col-sm-2">
        <p><a href="#events"><i class="glyphicon glyphicon-chevron-left"></i> Zurück</a></p>
    </div>
    <div class="col-sm-10">
        <div class="row">
            <div class="col-sm-9">
                <div  ng-hide="editing">
                    <p class="lead">{{event.name}}</p>

                    <p>
                        <small>
                            <span ng-show="event.startDate != '0000-00-00 00:00:00'">{{event.startDate }}</span>
                            <span ng-show="event.location">
                                in
                                <a ng-href="https://www.google.ch/maps/place/{{event.location}}" target="_blank">{{event.location}}</a>
                            </span>
                        </small>
                    </p>

                    <p>{{event.description}}</p>
                </div>
                <form ng-show="editing" class="form-horizontal" role="form" ng-model="editEvent" ng-include="'partials/event-edit.html'"></form>
            </div>
            <div class="col-sm-3 text-center" ng-show="session.loggedIn()">
                <button ng-click="startEditing()" ng-hide="editing" class="btn btn-info">Ändern</button>
                <div ng-show="editing">
                    <button ng-click="saveChanges()" class="btn btn-success">Speichern</button><br/><br/>
                    <button ng-click="discardChanges()" class="btn btn-danger">Abbrechen</button>
                </div>
            </div>
        </div>
        
        
        <hr/>
        
        <div ng-show="session.loggedIn()">
            <form>
                <div class="row">
                    <div class="col-sm-3">
                        <h4>Neuer Gast</h4>
                    </div>
                    <div class="col-sm-3">
                        <input ng-model="newInvitee.name"  placeholder="Name" type="text" class="form-control">
                    </div>
                    <div class="col-sm-3">
                        <input ng-model="newInvitee.email" placeholder="Email" type="email" class="form-control">
                    </div>
                    <div class="col-sm-3 text-center">
                        <button ng-click="invite()" class="btn btn-success">Einladen</button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-offset-3 col-sm-6">
                        <textarea ng-model="newInvitee.text" placeholder="Einlade-Text" class="form-control"></textarea>
                    </div>
                </div>
            </form>
            <hr/>
        </div>
        
        <h4>Gäste</h4>
        
        <div class="row" ng-hide="invitees.length">
            <div class="col-sm-12">
                <div class="alert alert-warning text-center text-capitalize" role="alert">
                    Keine Gäste gefunden!
                </div>
            </div>
        </div>
        
        <style>
            div.invitee-list-item {
                padding: 5px;
            }
            div.invitee-list-item:hover {
                background-color: #eee;
                -webkit-transition: background .2s ease-in-out;
                -o-transition: background .2s ease-in-out;
                transition: background .2s ease-in-out;
            }
        </style>
        
        <div class="row invitee-list-item" ng-repeat="invitee in invitees">
            <div class="col-sm-3">{{invitee.name}}</div>
            <div class="col-sm-3">{{invitee.email}}</div>
            <div class="col-sm-3">{{invitee.participation}}</div>
            <div ng-show="session.loggedIn()" class="col-sm-3 text-center">
                <button ng-click="uninvite(invitee)" class="btn btn-danger">Ausladen</button>
            </div>
        </div>
        
    </div>
</div>